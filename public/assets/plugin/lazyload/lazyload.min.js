!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t="undefined"!=typeof globalThis?globalThis:t||self).LazyLoad=n()}(this,function(){"use strict";function n(){return(n=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e,a=arguments[n];for(e in a)Object.prototype.hasOwnProperty.call(a,e)&&(t[e]=a[e])}return t}).apply(this,arguments)}function r(t){return n({},at,t)}function t(n,t){var e,a="LazyLoad::Initialized",n=new n(t);try{e=new CustomEvent(a,{detail:{instance:n}})}catch(t){(e=document.createEvent("CustomEvent")).initCustomEvent(a,!1,!1,{instance:n})}window.dispatchEvent(e)}function c(t){return A(t,ut)}function i(t){L(t,null)}function s(t,n,e,a){t&&(void 0!==a?t(n,e,a):void 0!==e?t(n,e):t(n))}function u(t,n){nt?t.classList.add(n):t.className+=(t.className?" ":"")+n}function d(t){return t.llTempImage}function l(t,n){n&&(n=n._observer)&&n.unobserve(t)}function f(t,n){t&&(t.loadingCount+=n)}function j(t,n){t&&(t.toLoadCount=n)}function _(t,n){(t=t.parentNode)&&"PICTURE"===t.tagName&&_t(t).forEach(n)}function D(t,n){_t(t).forEach(n)}function H(t){delete t[y]}function e(n,t){var e;z(n)||(e={},t.forEach(function(t){e[t]=n.getAttribute(t)}),n[y]=e)}function g(n,t){var e;z(n)&&(e=bt(n),t.forEach(function(t){pt(n,t,e[t])}))}function V(t,n,e){u(t,n.class_applied),L(t,ct),e&&(n.unobserve_completed&&l(t,n),s(n.callback_applied,t,e))}function F(t,n,e){u(t,n.class_loading),L(t,k),e&&(f(e,1),s(n.callback_loading,t,e))}function B(t,n){T(t,I,A(t,n.data_sizes)),T(t,E,A(t,n.data_srcset)),T(t,h,A(t,n.data_src))}function J(t,n){!n||0<n.loadingCount||0<n.toLoadCount||s(t.callback_finish,n)}function P(t,n,e){t.addEventListener(n,e),t.llEvLisnrs[n]=e}function v(t){return!!t.llEvLisnrs}function b(t){if(v(t)){var n,e,a=t.llEvLisnrs;for(n in a){var o=a[n];e=n,t.removeEventListener(e,o)}delete t.llEvLisnrs}}function S(t,n,e){var a;delete t.llTempImage,f(e,-1),(a=e)&&--a.toLoadCount,C(t,n.class_loading),n.unobserve_completed&&l(t,e)}function m(t,n,e){var a,o,i;-1<Lt.indexOf(t.tagName)?(R(a=t,o=n,i=e),At(a,o,i)):(a=n,o=e,ft(i=t),R(i,a,o),mt(i),Et(i,a,o),It(i,a,o),yt(i,a,o))}function U(t){t.removeAttribute(h),t.removeAttribute(E),t.removeAttribute(I)}function $(t){_(t,function(t){g(t,M)}),g(t,M)}function q(t,n){var e;(Ot[(e=t).tagName]||ht)(e),e=n,O(n=t)||x(n)||(C(n,e.class_entered),C(n,e.class_exited),C(n,e.class_applied),C(n,e.class_loading),C(n,e.class_loaded),C(n,e.class_error)),i(t),H(t)}function K(t,n,e,a){var o;e.cancel_on_exit&&c(t)===k&&"IMG"===t.tagName&&(b(t),_(o=t,function(t){U(t)}),U(o),$(t),C(t,e.class_loading),f(a,-1),i(t),s(e.callback_cancel,t,n,a))}function Q(t,n,e,a){var o,i,r=0<=dt.indexOf(c(t));L(t,"entered"),u(t,e.class_entered),C(t,e.class_exited),o=t,i=a,e.unobserve_entered&&l(o,i),s(e.callback_enter,t,n,a),r||m(t,e,a)}function W(t,a,o){t.forEach(function(t){var n,e;-1!==xt.indexOf(t.tagName)&&(n=a,e=o,(t=t).setAttribute("loading","lazy"),R(t,n,e),wt(t,n),L(t,lt))}),j(o,0)}function a(t){return t.container.querySelectorAll(t.elements_selector)}function X(t){return c(t)===w}function Y(t,n){return t=t||a(n),zt(t).filter(O)}function o(t,n){var e,a,o,i,t=r(t);this._settings=t,this.loadingCount=0,e=t,a=this,tt&&!Ct(e)&&(a._observer=new IntersectionObserver(function(t){Mt(t,e,a)},Nt(e))),o=t,i=this,p&&(i._onlineHandler=function(){Tt(o,i)},window.addEventListener("online",i._onlineHandler)),this.update(n)}var p="undefined"!=typeof window,Z=p&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),tt=p&&"IntersectionObserver"in window,nt=p&&"classList"in document.createElement("p"),et=p&&1<window.devicePixelRatio,at={elements_selector:".lazy",container:Z||p?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_bg_set:"bg-set",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_entered:"entered",class_exited:"exited",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1,restore_on_error:!1},h="src",E="srcset",I="sizes",ot="poster",y="llOriginalAttrs",it="data",k="loading",rt="loaded",ct="applied",w="error",lt="native",st="data-",ut="ll-status",A=function(t,n){return t.getAttribute(st+n)},L=function(t,n){var e=ut;e=st+e,null===n?t.removeAttribute(e):t.setAttribute(e,n)},O=function(t){return null===c(t)},x=function(t){return c(t)===lt},dt=[k,rt,ct,w],C=function(t,n){nt?t.classList.remove(n):t.className=t.className.replace(new RegExp("(^|\\s+)"+n+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")},ft=function(t){t.llTempImage=document.createElement("IMG")},_t=function(t){for(var n,e=[],a=0;n=t.children[a];a+=1)"SOURCE"===n.tagName&&e.push(n);return e},N=[h],gt=[h,ot],M=[h,E,I],vt=[it],z=function(t){return!!t[y]},bt=function(t){return t[y]},mt=function(t){z(t)||(t[y]={backgroundImage:t.style.backgroundImage})},pt=function(t,n,e){e?t.setAttribute(n,e):t.removeAttribute(n)},ht=function(t){var n;z(t)&&(n=bt(t),t.style.backgroundImage=n.backgroundImage)},T=function(t,n,e){e&&t.setAttribute(n,e)},Et=function(t,n,e){var a=A(t,n.data_bg),o=A(t,n.data_bg_hidpi),o=et&&o?o:a;o&&(t.style.backgroundImage='url("'.concat(o,'")'),d(t).setAttribute(h,o),F(t,n,e))},It=function(t,n,e){var a=A(t,n.data_bg_multi),o=A(t,n.data_bg_multi_hidpi),o=et&&o?o:a;o&&(t.style.backgroundImage=o,V(t,n,e))},yt=function(t,n,e){var a,o=A(t,n.data_bg_set);o&&(a=(o=o.split("|")).map(function(t){return"image-set(".concat(t,")")}),t.style.backgroundImage=a.join(),""===t.style.backgroundImage&&(a=o.map(function(t){return"-webkit-image-set(".concat(t,")")}),t.style.backgroundImage=a.join()),V(t,n,e))},kt={IMG:function(t,n){_(t,function(t){e(t,M),B(t,n)}),e(t,M),B(t,n)},IFRAME:function(t,n){e(t,N),T(t,h,A(t,n.data_src))},VIDEO:function(t,n){D(t,function(t){e(t,N),T(t,h,A(t,n.data_src))}),e(t,gt),T(t,ot,A(t,n.data_poster)),T(t,h,A(t,n.data_src)),t.load()},OBJECT:function(t,n){e(t,vt),T(t,it,A(t,n.data_src))}},wt=function(t,n){var e=kt[t.tagName];e&&e(t,n)},At=function(t,n,e){var a=kt[t.tagName];a&&(a(t,n),F(t,n,e))},Lt=["IMG","IFRAME","VIDEO","OBJECT"],R=function(i,r,c){var t,n,e,a,l=d(i)||i;v(l)||(n=function(t){var n,e,a,o;e=r,a=c,o=x(n=i),S(n,e,a),u(n,e.class_loaded),L(n,rt),s(e.callback_loaded,n,a),o||J(e,a),b(l)},e=function(t){var n,e,a,o;e=r,a=c,o=x(n=i),S(n,e,a),u(n,e.class_error),L(n,w),s(e.callback_error,n,a),e.restore_on_error&&g(n,M),o||J(e,a),b(l)},v(t=l)||(t.llEvLisnrs={}),a="VIDEO"===t.tagName?"loadeddata":"load",P(t,a,n),P(t,"error",e))},Ot={IMG:$,IFRAME:function(t){g(t,N)},VIDEO:function(t){D(t,function(t){g(t,N)}),g(t,gt),t.load()},OBJECT:function(t){g(t,vt)}},xt=["IMG","IFRAME","VIDEO"],Ct=function(t){return t.use_native&&"loading"in HTMLImageElement.prototype},Nt=function(t){return{root:t.container===document?null:t.container,rootMargin:t.thresholds||t.threshold+"px"}},Mt=function(t,o,i){t.forEach(function(t){return(a=t).isIntersecting||0<a.intersectionRatio?Q(t.target,t,o,i):(a=t.target,t=t,n=o,e=i,void(O(a)||(u(a,n.class_exited),K(a,t,n,e),s(n.callback_exit,a,t,e))));var n,e,a})},zt=function(t){return Array.prototype.slice.call(t)},Tt=function(n,t){var e;e=a(n),zt(e).filter(X).forEach(function(t){C(t,n.class_error),i(t)}),t.update()};if(o.prototype={update:function(t){var n,e=this._settings,t=Y(t,e);j(this,t.length),Z||!tt?this.loadAll(t):Ct(e)?W(t,e,this):(e=this._observer,t=t,e.disconnect(),n=e,t.forEach(function(t){n.observe(t)}))},destroy:function(){var t;this._observer&&this._observer.disconnect(),t=this,p&&window.removeEventListener("online",t._onlineHandler),a(this._settings).forEach(function(t){H(t)}),delete this._observer,delete this._settings,delete this._onlineHandler,delete this.loadingCount,delete this.toLoadCount},loadAll:function(t){var n=this,e=this._settings;Y(t,e).forEach(function(t){l(t,n),m(t,e,n)})},restoreAll:function(){var n=this._settings;a(n).forEach(function(t){q(t,n)})}},o.load=function(t,n){n=r(n);m(t,n)},o.resetStatus=function(t){i(t)},p){var Rt=o,G=window.lazyLoadOptions;if(G)if(G.length)for(var Gt,jt=0;Gt=G[jt];jt+=1)t(Rt,Gt);else t(Rt,G)}return o});